{"version":3,"sources":["scripts/main.js"],"names":["body","document","querySelector","thead","tbody","listSalary","children","TITLES","Salary","Age","Office","Position","Name","Form","className","form","createElement","btn","cls","forEach","el","label","textContent","dataQa","slice","toUpperCase","appendChild","randerIt","Input","inName","type","elem","dataset","qa","Select","element","cities","city","option","inpName","inpPosition","office","inpAge","inpSalary","createForm","newEmploee","name","position","age","salary","refreshList","triger","sortedAscList","sortListAsc","sortedAgeList","sortListDesc","innerHTML","elm","colect","indx","out","Array","from","sort","a","b","isNaN","cleanCurrency","localeCompare","input","replace","formatCurrency","amount","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","querySelectorAll","item","addEventListener","eveFocus","target","eveInput","value","e","preventDefault","CONDITION_AGE","CONDITION_NAME","length","tr","Object","values","val","td","targetName","listOfTitle","title","classList","toggle","row","parentElement"],"mappings":"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","file":"main.f7fe767c.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst body = document.querySelector('body');\nconst thead = document.querySelector('thead');\nconst tbody = document.querySelector('tbody');\nconst listSalary = document.querySelector('tbody').children;\n\nconst TITLES = {\n  Salary: 4,\n  Age: 3,\n  Office: 2,\n  Position: 1,\n  Name: 0,\n};\n\nclass Form {\n  constructor(className) {\n    this.form = document.createElement('form');\n    this.className = className;\n    this.btn = document.createElement('button');\n  }\n\n  createForm(...cls) {\n    this.form.className = this.className;\n\n    cls.forEach((el) => {\n      const label = document.createElement('label');\n\n      label.textContent = `${el.dataQa.slice(0, 1).toUpperCase() + el.dataQa.slice(1)}:`;\n      label.appendChild(el.randerIt());\n\n      this.form.appendChild(label);\n    });\n\n    this.btn.textContent = 'Save to table';\n    this.form.appendChild(this.btn);\n\n    body.appendChild(this.form);\n  }\n}\n\nclass Input {\n  constructor(inName, type, dataQa) {\n    this.elem = document.createElement('input');\n    this.inName = inName;\n    this.dataQa = dataQa;\n    this.type = type;\n  }\n\n  randerIt() {\n    this.elem.type = this.type;\n    this.elem.dataset.qa = this.dataQa;\n\n    return this.elem;\n  }\n}\n\nclass Select {\n  constructor(dataQa) {\n    this.element = document.createElement('select');\n\n    this.cities = [\n      'Tokyo',\n      'Singapore',\n      'London',\n      'New York',\n      'Edinburgh',\n      'San Francisco',\n    ];\n    this.dataQa = dataQa;\n  }\n\n  randerIt() {\n    this.element.dataset.qa = this.dataQa;\n\n    this.cities.forEach((city) => {\n      const option = document.createElement('option');\n\n      option.textContent = city;\n\n      this.element.appendChild(option);\n    });\n\n    return this.element;\n  }\n}\n\nconst form = new Form('new-employee-form');\n\nconst inpName = new Input('name', 'text', 'name');\nconst inpPosition = new Input('position', 'text', 'position');\nconst office = new Select('office');\nconst inpAge = new Input('age', 'number', 'age');\nconst inpSalary = new Input('salary', 'number', 'salary');\n\nform.createForm(inpName, inpPosition, office, inpAge, inpSalary);\n\n// const selctform = document.querySelector('form');\nconst newEmploee = {\n  name: '',\n  position: '',\n  office: office.cities[0],\n  age: 0,\n  salary: 0,\n};\n\ndocument.querySelectorAll('label').forEach((item) => {\n  item.children[0].addEventListener('focus', (eveFocus) => {\n    eveFocus.target.addEventListener('input', (eveInput) => {\n      newEmploee[eveFocus.target.dataset.qa] = eveInput.target.value;\n    });\n  });\n});\n\ndocument.querySelector('button').addEventListener('click', (e) => {\n  e.preventDefault();\n\n  const CONDITION_AGE = +newEmploee.age >= 18 && +newEmploee.age <= 90;\n  const CONDITION_NAME = newEmploee.name.length > 3;\n\n  newEmploee.salary = formatCurrency(newEmploee.salary);\n\n  if (CONDITION_AGE && CONDITION_NAME) {\n    const tr = document.createElement('tr');\n\n    Object.values(newEmploee).forEach((val) => {\n      const td = document.createElement('td');\n\n      td.textContent = val;\n      tr.appendChild(td);\n    });\n\n    tbody.appendChild(tr);\n  } else {\n  }\n});\n\nthead.addEventListener('click', (e) => {\n  const targetName = e.target.textContent;\n  const elem = e.target;\n\n  const listOfTitle = thead.children[0].children;\n\n  Array.from(listOfTitle).forEach((title) => {\n    if (targetName === title.textContent) {\n      title.classList.toggle('asc');\n    } else {\n      title.classList = '';\n    }\n  });\n\n  refreshList(targetName, elem.classList[0]);\n});\n\nfunction refreshList(triger, className) {\n  const sortedAscList = sortListAsc(listSalary, TITLES[triger]);\n  const sortedAgeList = sortListDesc(listSalary, TITLES[triger]);\n\n  if (className) {\n    tbody.innerHTML = '';\n\n    sortedAscList.forEach((elm) => {\n      tbody.appendChild(elm);\n    });\n  } else {\n    tbody.innerHTML = '';\n\n    sortedAgeList.forEach((elm) => {\n      tbody.appendChild(elm);\n    });\n  }\n}\n\nfunction sortListAsc(colect, indx) {\n  const out = Array.from(colect).sort((a, b) => {\n    if (!isNaN(cleanCurrency(a.children[indx].textContent))) {\n      return (\n        cleanCurrency(a.children[indx].textContent) -\n        cleanCurrency(b.children[indx].textContent)\n      );\n    }\n\n    return a.children[indx].textContent.localeCompare(\n      b.children[indx].textContent,\n    );\n  });\n\n  return out;\n}\n\nfunction sortListDesc(colect, indx) {\n  const out = Array.from(colect).sort((a, b) => {\n    if (!isNaN(cleanCurrency(a.children[indx].textContent))) {\n      return (\n        cleanCurrency(b.children[indx].textContent) -\n        cleanCurrency(a.children[indx].textContent)\n      );\n    }\n\n    return b.children[indx].textContent.localeCompare(\n      a.children[indx].textContent,\n    );\n  });\n\n  return out;\n}\n\nfunction cleanCurrency(input) {\n  return +input.replace(/[$,]/g, '');\n}\n\nfunction formatCurrency(amount) {\n  if (isNaN(amount)) {\n    return amount;\n  }\n\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0,\n  }).format(amount);\n}\n\ntbody.addEventListener('click', (e) => {\n  Array.from(tbody.children).forEach((row) => {\n    row.className = '';\n\n    if (row === e.target.parentElement) {\n      row.className = 'active';\n    }\n  });\n});\n\n// selctform.addEventListener('click', (evt) => {\n// addValue(evt);\n// });\n\n// function addValue(e) {\n//   const prop = e.target.dataset.qa;\n\n//   if (newEmploee.hasOwnProperty(prop)) {\n//     if (!e.target.initialized) {\n//       if (prop !== 'office') {\n//         e.target.addEventListener('input', (ev) => handleEvent(ev, prop));\n//       } else {\n//         e.target.addEventListener('change', (ev) => handleEvent(ev, prop));\n//       }\n//       e.target.initialized = true;\n//     }\n//   }\n// }\n\n// function handleEvent(e, prop) {\n//   if (e.type === 'input' || e.type === 'change') {\n//     newEmploee[prop] = e.target.value;\n//   }\n// }\n"]}